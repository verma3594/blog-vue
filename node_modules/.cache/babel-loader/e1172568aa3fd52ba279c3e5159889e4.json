{"ast":null,"code":"import _objectSpread from \"/Users/vishalverma/Vishal/My Data/Project/Vue-basics/untitled folder/blog-vue/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions } from \"vuex\"; // import HomeContent from \"../components/HomeContent.vue\";\n\nexport default {\n  name: \"Dashboard\",\n  data: function data() {\n    return {\n      author: \"\",\n      title: \"\",\n      description: \"\",\n      path: \"\",\n      name: \"\",\n      form: false\n    };\n  },\n  //   components: {\n  //   HomeContent,\n  // },\n  methods: _objectSpread(_objectSpread({}, mapActions([\"addProducts\"])), {}, {\n    onSubmit: function onSubmit() {\n      this.addProducts({\n        author: this.author,\n        title: this.title,\n        description: this.description,\n        path: this.path\n      });\n    },\n    logout: function logout() {\n      localStorage.clear();\n      this.$router.push(\"/\");\n    },\n    addBlog: function addBlog() {\n      // this.form = true;\n      console.log(\"first\");\n    },\n    uploadFile: function uploadFile() {\n      console.log(\"uploadFile called\");\n      console.log(this.$refs.file);\n      console.log(this.$refs.file.files[0]);\n      this.Images = this.$refs.file.files[0];\n    },\n    submitFile: function submitFile() {\n      var formData = new FormData();\n      formData.append(\"file\", this.Images);\n      var urlToImage = {\n        \"Content-Type\": \"multipart/form-data\"\n      };\n      axios.post(\"http://localhost:3000/products\", formData, {\n        urlToImage: urlToImage\n      }).then(function (res) {\n        console.log(res);\n        console.log(res.data.files);\n        res.data.files; // binary representation of the file\n\n        res.status; // HTTP status\n      });\n    }\n  }),\n  mounted: function mounted() {\n    var user = localStorage.getItem(\"user-info\");\n    this.name = JSON.parse(user).FullName;\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA,kC,CACA;;AAEA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,gBADA;AAEAC,eAFA;AAGAC,qBAHA;AAIAC,cAJA;AAKAL,cALA;AAMAM;AANA;AAQA,GAXA;AAYA;AACA;AACA;AACAC,2CACAC,2BADA;AAEAC,YAFA,sBAEA;AACA;AACAP,2BADA;AAEAC,yBAFA;AAGAC,qCAHA;AAIAC;AAJA;AAMA,KATA;AAUAK,UAVA,oBAUA;AACAC;AACA;AACA,KAbA;AAcAC,WAdA,qBAcA;AACA;AACAC;AACA,KAjBA;AAmBAC,cAnBA,wBAmBA;AACAD;AACAA;AACAA;AACA;AACA,KAxBA;AAyBAE,cAzBA,wBAyBA;AACA;AACAC;AACA;AAAA;AAAA;AACAC,YACAC,IADA,CACA,gCADA,EACAF,QADA,EACA;AAAAG;AAAA,OADA,EAEAC,IAFA,CAEA;AACAP;AACAA;AACAQ,uBAHA,CAGA;;AACAA,mBAJA,CAIA;AACA,OAPA;AAQA;AArCA,IAfA;AAuDAC,SAvDA,qBAuDA;AACA;AACA;AACA;AA1DA","names":["name","data","author","title","description","path","form","methods","mapActions","onSubmit","logout","localStorage","addBlog","console","uploadFile","submitFile","formData","axios","post","urlToImage","then","res","mounted"],"sourceRoot":"src/views","sources":["Dashboard.vue"],"sourcesContent":["<template>\n  <div class=\"blog\">\n    <b-container>\n      <div class=\"d-flex justify-content-between align-items-center\">\n        <h4 class=\"mt-4 mb-3\">\n          Hello <b>{{ name }} </b>, Welcome to MY BLOG\n        </h4>\n        <div>\n        <a class=\"logout-btn\" @click=\"addBlog\">Add New Blog</a>\n        <a href=\" \" class=\"logout-btn\" @click=\"logout\">Logout</a>\n        </div>\n      </div>\n\n      <form @submit=\"onSubmit\" v-show=\"form\">\n        <h5>Please fill the following details to post a new blog</h5>\n        <b-row>\n          <b-col cols=\"6\">\n            <div class=\"form-group\">\n              <label>Enter Author</label>\n              <input\n                type=\"text\"\n                v-model=\"author\"\n                class=\"form-control\"\n                placeholder=\"Enter Author\"\n              />\n            </div>\n          </b-col>\n          <b-col cols=\"6\">\n            <div class=\"form-group\">\n              <label>Enter Title</label>\n              <input\n                type=\"text\"\n                v-model=\"title\"\n                class=\"form-control\"\n                placeholder=\"Enter Title\"\n              />\n            </div>\n          </b-col>\n          <b-col cols=\"12\">\n            <div class=\"form-group\">\n              <label>Enter Description</label>\n              <textarea\n                class=\"form-control\"\n                v-model=\"description\"\n                rows=\"5\"\n              ></textarea>\n            </div>\n          </b-col>\n          <b-col cols=\"6\">\n            <!-- <div class=\"form-group\">\n              <label>Enter URL</label>\n              <input\n                type=\"text\"\n                v-model=\"path\"\n                class=\"form-control\"\n                placeholder=\"Enter URL\"\n              />\n            </div> -->\n            <div class=\"form-group\">\n              <label for=\"exampleFormControlFile1\">Upload Image</label><br/>\n              <input\n                type=\"file\"\n                class=\"form-control-file\"\n                id=\"exampleFormControlFile1\"\n              />\n            </div>\n          </b-col>\n          <!-- <b-col cols=\"6\">\n          \n  <h2>File Upload</h2>\n    <input type=\"file\" @change=\"uploadFile\" ref=\"file\">\n    <button @click=\"submitFile\">Upload!</button>\n          </b-col> -->\n        </b-row>\n\n        <button type=\"submit\" class=\"btn btn-primary\">Post Blog</button>\n      </form>\n\n      <!-- <HomeContent /> -->\n    </b-container>\n  </div>\n</template>\n<script>\nimport { mapActions } from \"vuex\";\n// import HomeContent from \"../components/HomeContent.vue\";\n\nexport default {\n  name: \"Dashboard\",\n  data() {\n    return {\n      author: \"\",\n      title: \"\",\n      description: \"\",\n      path: \"\",\n      name: \"\",\n      form: false,\n    };\n  },\n  //   components: {\n  //   HomeContent,\n  // },\n  methods: {\n    ...mapActions([\"addProducts\"]),\n    onSubmit() {\n      this.addProducts({\n        author: this.author,\n        title: this.title,\n        description: this.description,\n        path: this.path,\n      });\n    },\n    logout() {\n      localStorage.clear();\n      this.$router.push(\"/\");\n    },\n    addBlog(){\n      // this.form = true;\n      console.log(\"first\")\n    },\n\n    uploadFile() {\n      console.log(\"uploadFile called\");\n      console.log(this.$refs.file);\n      console.log(this.$refs.file.files[0]);\n      this.Images = this.$refs.file.files[0];\n    },\n    submitFile() {\n      const formData = new FormData();\n      formData.append(\"file\", this.Images);\n      const urlToImage = { \"Content-Type\": \"multipart/form-data\" };\n      axios\n        .post(\"http://localhost:3000/products\", formData, { urlToImage })\n        .then((res) => {\n          console.log(res);\n          console.log(res.data.files);\n          res.data.files; // binary representation of the file\n          res.status; // HTTP status\n        });\n    },\n  },\n\n  mounted() {\n    let user = localStorage.getItem(\"user-info\");\n    this.name = JSON.parse(user).FullName;\n  },\n};\n</script>\n\n<style scoped>\n.blog form {\n  box-shadow: 0 3px 6px rgb(0 0 0 / 16%), 0 3px 6px rgb(0 0 0 / 23%);\n  padding: 30px;\n  background: #271c38;\n  color: #fff;\n  border-radius: 8px;\n}\n.blog form .btn {\n  background: transparent;\n  color: #fff;\n  border: 1px solid #fff;\n  padding: 10px 35px;\n  margin-top: 10px;\n}\n.form-group {\n  margin-bottom: 10px;\n}\n.form-group label {\n  margin-bottom: 5px;\n  font-weight: 600;\n}\n.logout-btn {\n  background: #563d7c;\n  color: #fff;\n  padding: 10px 15px;\n  border-radius: 8px;\n  text-decoration: none;\n}\n</style>"]},"metadata":{},"sourceType":"module"}