{"ast":null,"code":"import _asyncToGenerator from \"/Users/vishalverma/Vishal/My Data/Project/Vue-basics/untitled folder/blog-vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Users/vishalverma/Vishal/My Data/Project/Vue-basics/untitled folder/blog-vue/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters, mapActions } from \"vuex\";\nexport default {\n  name: \"Dashboard\",\n  data: function data() {\n    return {\n      author: \"\",\n      title: \"\",\n      description: \"\",\n      path: \"\",\n      name: \"\"\n    };\n  },\n  methods: _objectSpread(_objectSpread({}, mapActions([\"addProducts\", \"getProducts\"])), {}, {\n    onSubmit: function onSubmit() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.addProducts({\n                  author: _this.author,\n                  title: _this.title,\n                  description: _this.description,\n                  path: _this.path\n                }); // this.$router.push(\"/\");\n\n\n                _context.next = 3;\n                return axios.get(\"http://localhost:3000/users?Email=\".concat(_this.Email, \"&Password=\").concat(_this.Password));\n\n              case 3:\n                result = _context.sent;\n\n                if (result.status == 200 && result.data.length > 0) {\n                  localStorage.setItem(\"user-info\", JSON.stringify(result.data[0]));\n\n                  _this.$router.push(\"/Dashboard\");\n                } else {\n                  _this.message = true;\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }),\n  computed: mapGetters([\"allProducts\"]),\n  created: function created() {\n    this.getProducts();\n  },\n  mounted: function mounted() {\n    var user = localStorage.getItem(\"user-info\");\n    this.name = JSON.parse(user).FullName;\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AAEA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,gBADA;AAEAC,eAFA;AAGAC,qBAHA;AAIAC,cAJA;AAKAL;AALA;AAOA,GAVA;AAWAM,2CACAC,0CADA;AAEAC,YAFA,sBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACAN,sCADA;AAEAC,oCAFA;AAGAC,gDAHA;AAIAC;AAJA,mBADA,CAOA;;;AAPA;AAAA,uBAQAI,sDACA,WADA,uBACA,cADA,EARA;;AAAA;AAQAC,sBARA;;AAWA;AACAC;;AACA;AACA,iBAHA,MAGA;AACA;AACA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AAnBA,IAXA;AAiCAC,uCAjCA;AAkCAC,SAlCA,qBAkCA;AACA;AACA,GApCA;AAqCAC,SArCA,qBAqCA;AACA;AACA;AACA;AAxCA","names":["name","data","author","title","description","path","methods","mapActions","onSubmit","axios","result","localStorage","computed","created","mounted"],"sourceRoot":"src/views","sources":["Dashboard.vue"],"sourcesContent":["<template>\n  <div class=\"about\">\n    <b-container>\n      <h4 class=\"mt-4 mb-3\">Hello {{ name }}, Welcome to homepage</h4>\n\n      <form @submit=\"onSubmit\">\n        <b-row>\n          <b-col cols=\"6\">\n            <div class=\"form-group\">\n              <label>Enter Author</label>\n              <input\n                type=\"text\"\n                v-model=\"author\"\n                class=\"form-control\"\n                placeholder=\"Enter Author\"\n              />\n            </div>\n          </b-col>\n          <b-col cols=\"6\">\n            <div class=\"form-group\">\n              <label>Enter Title</label>\n              <input\n                type=\"text\"\n                v-model=\"title\"\n                class=\"form-control\"\n                placeholder=\"Enter Title\"\n              />\n            </div>\n          </b-col>\n          <b-col cols=\"6\">\n            <div class=\"form-group\">\n              <label>Enter Description</label>\n              <input\n                type=\"text\"\n                v-model=\"description\"\n                class=\"form-control\"\n                placeholder=\"Enter Description\"\n              />\n            </div>\n          </b-col>\n          <b-col cols=\"6\">\n            <div class=\"form-group\">\n              <label>Enter URL</label>\n              <input\n                type=\"text\"\n                v-model=\"path\"\n                class=\"form-control\"\n                placeholder=\"Enter URL\"\n              />\n            </div>\n          </b-col>\n        </b-row>\n\n        <button type=\"submit\" class=\"btn btn-primary\">Post Blog</button>\n      </form>\n      \n      <b-row class=\"custom-card\">\n        <b-col lg=\"4\" v-for=\"product in allProducts\" :key=\"product.id\">\n          <div>\n            <b-card\n              :img-src=\"\n                product.urlToImage\n                  ? product.urlToImage\n                  : 'https://www.messagetech.com/wp-content/themes/ml_mti/images/no-image.jpg'\n              \"\n              img-alt=\"Image\"\n              img-top\n              tag=\"article\"\n              class=\"mb-4\"\n            >\n              <p class=\"author\">{{ product.author }}</p>\n\n              <h4>{{ product.title }}</h4>\n              <b-card-text v-html=\"product.description\"> </b-card-text>\n              <!-- <router-link to=\"/blogdetail\">  <b-button  variant=\"primary\"\n              >Read More</b-button>\n              </router-link\n            > -->\n\n              <router-link\n                :to=\"{ name: 'blogdetail', params: { username: 'abc' } }\"\n                ><b-button variant=\"primary\">Read More</b-button></router-link\n              >\n              <!-- <b-button :href=\"product.url\" target=\"blank\" variant=\"primary\"\n              >Read More</b-button> -->\n            </b-card>\n          </div>\n        </b-col>\n      </b-row>\n\n    </b-container>\n  </div>\n</template>\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\n\nexport default {\n  name: \"Dashboard\",\n  data() {\n    return {\n      author: \"\",\n      title: \"\",\n      description: \"\",\n      path: \"\",\n      name: \"\",\n    };\n  },\n  methods: {\n    ...mapActions([\"addProducts\", \"getProducts\"]),\n  async  onSubmit() {\n      this.addProducts({\n        author: this.author,\n        title: this.title,\n        description: this.description,\n        path: this.path,\n      });\n      // this.$router.push(\"/\");\n      let result = await axios.get(\n        `http://localhost:3000/users?Email=${this.Email}&Password=${this.Password}`\n      );\n      if (result.status == 200 && result.data.length > 0) {\n        localStorage.setItem(\"user-info\", JSON.stringify(result.data[0]));\n        this.$router.push(\"/Dashboard\");\n      } else {\n        this.message = true;\n      }\n    },\n  },\n\n  computed: mapGetters([\"allProducts\"]),\n  created() {\n    this.getProducts();\n  },\n  mounted() {\n    let user = localStorage.getItem(\"user-info\");\n    this.name = JSON.parse(user).FullName;\n  },\n};\n</script>\n\n<style scoped>\n.about form {\n  box-shadow: 0 3px 6px rgb(0 0 0 / 16%), 0 3px 6px rgb(0 0 0 / 23%);\n  padding: 30px;\n}\n.form-group {\n  margin-bottom: 10px;\n}\n.form-group label {\n  margin-bottom: 5px;\n  font-weight: 600;\n}\n</style>"]},"metadata":{},"sourceType":"module"}