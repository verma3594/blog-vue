{"ast":null,"code":"import _asyncToGenerator from \"/Users/vishalverma/Vishal/My Data/Project/Vue-basics/untitled folder/blog-vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import { mapActions } from \"vuex\";\nimport axios from \"axios\";\nexport default {\n  name: \"Login\",\n  data: function data() {\n    return {\n      Email: \"\",\n      Password: \"\",\n      message: true\n    };\n  },\n  methods: {\n    onLogin: function onLogin() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"http://localhost:3000/users?Email=\".concat(_this.Email, \"&Password=\").concat(_this.Password));\n\n              case 2:\n                result = _context.sent;\n                console.log(result);\n\n                if (result.status == 200 && result.data.length > 0) {\n                  localStorage.setItem(\"user-info\", JSON.stringify(result.data[0]));\n\n                  _this.$router.push(\"/Dashboard\");\n                } else {\n                  console.log(\"first\");\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AAEA;AACAA,eADA;AAEAC,MAFA,kBAEA;AACA;AACAC,eADA;AAEAC,kBAFA;AAGAC;AAHA;AAMA,GATA;AAUAC;AACAC,WADA,qBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACAC,wGADA;;AAAA;AACAC,sBADA;AAEAC;;AACA;AACAC;;AACA;AAEA,iBAJA,MAKA;AACAD;AAEA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAhBA;AAVA","names":["name","data","Email","Password","message","methods","onLogin","axios","result","console","localStorage"],"sourceRoot":"src/components","sources":["Login.vue"],"sourcesContent":["<template>\n  <div>\n    <b-container>\n      <form @submit=\"onLogin\">\n      <p v-show=\"message\" >Please<p>\n        <div class=\"form-group\">\n          <label>Enter Email</label>\n          <input\n            type=\"email\"\n            class=\"form-control\"\n            v-model=\"Email\"\n            placeholder=\"Enter Email...\"\n            required\n          />\n        </div>\n        <div class=\"form-group\">\n          <label>Enter Password</label>\n          <input\n            type=\"password\"\n            class=\"form-control\"\n            v-model=\"Password\"\n            placeholder=\"Enter Password...\"\n            required\n          />\n        </div>\n    \n\n        <button type=\"submit\" class=\"btn btn-primary\">Signup</button>\n      </form>\n      <router-link to=\"/signup\">Signup</router-link>\n\n    </b-container>\n  </div>\n</template>\n<script>\n// import { mapActions } from \"vuex\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      Email: \"\",\n      Password: \"\",\n      message: true\n      \n    };\n  },\n  methods: {\n  async  onLogin() \n    {\n      let result = await axios.get(`http://localhost:3000/users?Email=${this.Email}&Password=${this.Password}`)\n      console.log(result)\n        if (result.status == 200 && result.data.length>0) {\n        localStorage.setItem(\"user-info\", JSON.stringify(result.data[0]));\n        this.$router.push(\"/Dashboard\");\n\n      }\n      else{\n            console.log(\"first\")\n\n      }\n \n   \n    },\n  },\n  \n};\n</script>\n\n<style scoped>\n</style>"]},"metadata":{},"sourceType":"module"}